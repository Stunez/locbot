info = {
"restoran": [
	{
	'id' : 1,
	'range' : 0,
	'adress' : 'Коктем 3-й микрорайон, 16а',
	'name' : 'Посейдон',
	'vid' : 'Ресторан',
	'worktime' : 'Работает ежедневно 10:00–01:00',
	'phone' : '+7 (727) 394‒51‒15',
	'instagram' : None,
	'оценка' : 4.2,
	'location' : {
			"lat1" : 43.235960, 
			'lon1' : 76.914459,
		}
	},
	{
	'id' : 2,
	'range' : 0,
	'adress' : 'БЦ Almaty Towers Байзакова, 280',
	'name' : 'Башня',
	'vid' : 'Ресто-бар',
	'worktime' : 'Работает ежедневно 09:00–03:00',
	'phone': '+7‒775‒641‒02‒22',
	'оценка' : 4.5,
	'instagram' : 'https://www.instagram.com/restobar_bashnya/?hl=ru',
	"location" : 
		{
			'lat2' : 43.237328,

			'lon2' : 76.914985,
			},
	},
	
	{
	'id' : 3,
	'range' : 0,
	'adress' : 'Гагарина проспект, 292',
	'name' : 'Шах',
	'vid' : 'cеть ресторанов и кулинарий',
	'worktime' : 'Работает ежедневно 10:00–02:00',
	'phone': '+7‒747‒420‒22‒49',
	'оценка' : 4,
	'instagram' : 'https://www.instagram.com/shakh_restaurant/',
	"location" : {
		
			'lat3' : 43.240199,

			'lon3' : 76.905399, 
			},
		},
	
	{
	'id' : 4,
	'range' : 0,
	'adress' : 'Абылай хана проспект, 125',
	'name' : 'Лето Маркет',
	'vid' : 'ресторан-гастроном ',
	'worktime' : 'Работает ежедневно 08:00–01:00',
	'phone': '+7‒778‒555‒66‒65',
	'оценка' : 5,
	'instagram' : 'https://www.instagram.com/leto_market_kz/',
	"location" : {
		
			'lat3' : 43.247478,

			'lon3' : 76.942109,
			},
		},
	
	{
	'id' : 5,
	'range' : 0,
	'adress' : 'Сейфуллина проспект, 481 — 2 этаж',
	'name' : 'Caviar',
	'vid' : 'ресторанов',
	'worktime' : 'Работает ежедневно 10:00–02:00',
	'phone': '+7 (727) 299‒66‒99',
	'оценка' : 5,
	'instagram' : 'https://www.instagram.com/esperanzakz/',
	"location" : {
		
			'lat3' : 43.265517,

			'lon3' : 76.930399, 
			},
		},
	{
	'id' : 6,
	'range' : 0,
	'adress' : 'Гагарина проспект, 292',
	'name' : 'BAR 111',
	'vid' : 'гастрономический бар',
	'worktime' : 'Работает ежедневно 10:00–02:00',
	'phone': '+7‒777‒777‒77‒77',
	'оценка' : 5,
	'instagram' : 'https://www.instagram.com/bar_111_almaty/',
	"location" : {
		
			'lat3' : 43.233687,

			'lon3' : 76.958323, 
			},
		},
	{
	'id' : 7,
	'range' : 0,
	'adress' : 'Толе би, 24Б — 1 этаж',
	'name' : 'Saebiz',
	'vid' : 'ресторан',
	'worktime' : 'Работает ежедневно 10:00–02:00',
	'phone': '+7‒777‒777‒77‒77',
	'оценка' : 4.4,
	'instagram' : 'https://www.instagram.com/saebiz_almaty/',
	"location" : {
		
			'lat3' : 43.255265,

			'lon3' : 76.954190, 
			},
		},
	{
	'id' : 8,
	'range' : 0,
	'adress' : 'БЦ KOKTEM GRAND Достык проспект, 210 блок Б — 1 этаж',
	'name' : 'QazaQ restaurant',
	'vid' : 'ресторан национальной авторской кухни',
	'worktime' : 'Работает ежедневно 10:00–02:00',
	'phone': '+7‒777‒777‒77‒77',
	'оценка' : 5,
	'instagram' : 'https://www.instagram.com/_qazaq_restaurant_/',
	"location" : {
		
			'lat3' : 43.230049,

			'lon3' : 76.960454, 
			},
		},
	{
	'id' : 9,
	'range' : 0,
	'adress' : 'Жамбыла, 77 — 1 этаж',
	'name' : 'Ларисс Иванну Хачу',
	'vid' : 'ресторан',
	'worktime' : 'Работает ежедневно 10:00–02:00',
	'phone': '+7‒777‒777‒77‒77',
	'оценка' : 4.2,
	'instagram' : 'https://www.instagram.com/bar_111_almaty/',
	"location" : {
		
			'lat3' : 43.247537,

			'lon3' : 76.937356, 
			},
		},
	{
	'id' : 10,
	'range' : 0,
	'adress' : 'Достык проспект, 248 — 1 этаж',
	'name' : 'Quality Restaurant & Karaoke',
	'vid' : 'ресторанный комплекс',
	'worktime' : 'Работает ежедневно 10:00–02:00',
	'phone': '+7‒777‒777‒77‒77',
	'оценка' : 4.7,
	'instagram' : 'https://www.instagram.com/bar_111_almaty/',
	"location" : {
		
			'lat3' : 43.222921,

			'lon3' : 76.963183, 
			},
		},
	{
	'id' : 11,
	'range' : 0,
	'adress' : 'ЖК Столичный Центр Кабанбай батыра, 87',
	'name' : 'KOREAN HOUSE',
	'vid' : 'ресторан корейской кухни',
	'worktime' : 'Работает ежедневно 10:00–02:00',
	'phone': '+7‒777‒777‒77‒77',
	'оценка' : 4.4,
	'instagram' : None,
	"location" : {
		
			'lat3' : 43.249876,
			'lon3' : 76.942752, 
			},
		},
	{
	'id' : 12,
	'range' : 0,
	'adress' : 'Брусиловского, 164 — 1 этаж',
	'name' : 'Arsha',
	'vid' : 'ресторанный комплекс',
	'worktime' : 'Работает ежедневно 10:00–02:00',
	'phone': '+7‒777‒777‒77‒77',
	'оценка' : 4.5,
	'instagram' : 'https://www.instagram.com/restoran_arsha/',
	"location" : {
		
			'lat3' : 43.240195,

			'lon3' : 76.878313, 
			},
		},
	{
	'id' : 13,
	'range' : 0,
	'adress' : 'Наурызбай батыра, 94 — 1 этаж',
	'name' : 'Double Coffee',
	'vid' : 'ресторан-кофейня',
	'worktime' : 'Работает ежедневно 10:00–02:00',
	'phone': '+7‒777‒777‒77‒77',
	'оценка' : 4.6,
	'instagram' : 'https://www.instagram.com/doublecoffee_almaty/',
	"location" : {
		
			'lat3' : 43.253870,

			'lon3' : 76.936613, 
			},
		},
	{
	'id' : 14,
	'range' : 0,
	'adress' : 'Абая проспект, 58а — 1 этаж',
	'name' : 'Аист',
	'vid' : 'семейный ресторан',
	'worktime' : 'Работает ежедневно 10:00–02:00',
	'phone': '+7‒777‒777‒77‒77',
	'оценка' : 4.3,
	'instagram' : 'https://www.instagram.com/aist_restaurant/',
	"location" : {
		
			'lat3' : 43.239558,

			'lon3' : 76.909395, 
			},
		},
	{
	'id' : 15,
	'range' : 0,
	'adress' : 'Ауэзова, 84а — 1 этаж',
	'name' : 'Пинта bar & grill',
	'vid' : 'сеть пивных ресторанов',
	'worktime' : 'Работает ежедневно 10:00–02:00',
	'phone': '+7‒777‒777‒77‒77',
	'оценка' : 3.3,
	'instagram' : 'https://www.instagram.com/pinta_almaty/',
	"location" : {
		
			'lat3' : 43.237152,

			'lon3' : 76.904755, 
			},
		},
]
}


import random
import telebot
from telebot import types
import config
import requests
import json
from time import sleep
import datetime
from math import sin, cos, sqrt, atan2, radians

token = '641542217:AAHj-pmdV9Gg9IZ6epNOQDUCiLokDhKZiWs'
bot = telebot.TeleBot(token)
url = "https://api.telegram.org/bot641542217:AAHj-pmdV9Gg9IZ6epNOQDUCiLokDhKZiWs/"
last_update = 0
freestol = random.randint(1,2)
sovlist = []
vozrostanieNum = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]
vozrostanieName = []
@bot.message_handler(commands=["start"])
def inline(message):
	keyboard = types.ReplyKeyboardMarkup(row_width=1, resize_keyboard=True)
	#key = types.InlineKeyboardMarkup()
	button_main = types.KeyboardButton(text="Главное меню")
	button_geo = types.KeyboardButton(text="Обновить местоположение", request_location=True)
	keyboard.add(button_geo,button_main)#,but_2
	bot.send_message(message.chat.id, "Здравствуйте, я буду вашим помощником-ботом который поможет опредилить где самый ближайший ресторан и забронировать место")
	bot.send_message(message.chat.id, "Но для начало нам нужно чтобы вы поделились своим местоположением, и я рекомендую кажждый раз обновлять геолокацию", reply_markup=keyboard)

	#keyboard = types.ReplyKeyboardMarkup(row_width=1, resize_keyboard=True)
"""
@bot.message_handler(commands=["geo"])
def geo(message):
	keyboard = types.ReplyKeyboardMarkup(row_width=1, resize_keyboard=True)
	button_geo = types.KeyboardButton(text="Отправить местоположение", request_location=True)
	keyboard.add(button_geo)
	bot.send_message(message.chat.id, "Да, я конечно(отправить местоположение)", reply_markup=keyboard)
"""
@bot.message_handler(content_types=["location"])
def location(message):
	vozrostanieNum.clear()
	if message.location is not None:
		print(message.location)
		print("latitude: %s; longitude: %s" % (message.location.latitude, message.location.longitude))
		latinput = message.location.latitude
		loninput = message.location.longitude


		# approximate radius of earth in km


	def podchet():
			#задаем переменную для цикла
		R = 6373.0
		dlon = 0
		dlat = 0
		distance2 = 9999999999
		distance = 0
		latnum = 0
		for lat in info['restoran']:
			for x in lat['location']:
				#print (lat['location'][x])
				lat['location'][x] = float(lat['location'][x])
				for y in x:
					if y == 'o':
						dlon = radians(loninput) - radians(lat['location'][x])
						dlat = radians(latinput)- radians(latnum)
						a = sin(dlat / 2)**2 + cos(latnum) * cos(latinput) * sin(dlon / 2)**2
						c = 2 * atan2(sqrt(a), sqrt(1 - a))	
						distance = R * c
					elif y == 'a': 
						latnum = lat['location'][x]
						
				if distance == 0:
					pass
				elif distance2 > distance:
					distance2 = distance

			lat['range'] = distance
			#print (lat['range'])
		return distance2
	#------
	a = podchet()
	print("Result:", a)

	for lat in info['restoran']:
		vozrostanieNum.append(lat['range'])
	vozrostanieNum.sort()
	key = types.InlineKeyboardMarkup(row_width=1)
	but_1= types.InlineKeyboardButton(text="Список ближайших ресторанов", callback_data="Spisok")
	but_2= types.InlineKeyboardButton(text="Обратная связь/техподдержка", url='https://t.me/Unelos')
	but_3= types.InlineKeyboardButton(text="Поиск ресторана", callback_data='poisk')
	but_4= types.InlineKeyboardButton(text="Случайный ресторан", callback_data='random')
	key.add(but_1,but_2,but_3,but_4)
	bot.send_message(message.chat.id,'Главное меню',reply_markup=key)
lol = False
@bot.callback_query_handler(func=lambda c:True)
def inlin(c):
	if c.data == "Spisok":
		#count = 1
		

		list1 = []
		
		bron2 = types.InlineKeyboardMarkup()
		bron3 = types.InlineKeyboardMarkup()
		bron4 = types.InlineKeyboardMarkup()
		bron5 = types.InlineKeyboardMarkup()
		bron6 = types.InlineKeyboardMarkup()
		bron7 = types.InlineKeyboardMarkup()
		bron8 = types.InlineKeyboardMarkup()
		bron9 = types.InlineKeyboardMarkup()
		bron10 = types.InlineKeyboardMarkup()
	
		but_bron_2 = types.InlineKeyboardButton(text="забронировать столик", callback_data="брон2")
		but_bron_3 = types.InlineKeyboardButton(text="забронировать столик", callback_data="брон3")
		but_bron_4 = types.InlineKeyboardButton(text="забронировать столик", callback_data="брон4")
		but_bron_5 = types.InlineKeyboardButton(text="забронировать столик", callback_data="брон5")
		but_bron_6 = types.InlineKeyboardButton(text="забронировать столик", callback_data="брон6")
		but_bron_7 = types.InlineKeyboardButton(text="забронировать столик", callback_data="брон7")
		but_bron_8 = types.InlineKeyboardButton(text="забронировать столик", callback_data="брон8")
		but_bron_9 = types.InlineKeyboardButton(text="забронировать столик", callback_data="брон9")
		but_bron_10 = types.InlineKeyboardButton(text="забронировать столик", callback_data="брон10")
		count = 1
		a = len(vozrostanieNum)-count
		for ranga in range(0,len(vozrostanieNum)-a):
			for name in info['restoran']:
				if vozrostanieNum[ranga] == name['range']:
					if vozrostanieNum[ranga] < 1:
						a = round(vozrostanieNum[ranga],3)
						a = 1000 * a
						bron1 = types.InlineKeyboardMarkup()
						but_bron_1 = types.InlineKeyboardButton(text="забронировать столик", callback_data="брон1")
						bron1.add(but_bron_1)
						bot.send_message(c.message.chat.id, (("%s.%s,%s \n %s \n Номер: %s \n Оценка: %s из 5 баллов \n адрес:%s \n Instagram:%s \n от вас %s метрах,")%(count,name['name'],name['vid'],name['worktime'],name['phone'],name['оценка'],name['adress'],name['instagram'],a)), reply_markup=bron1)
					else:
						bron1.add(but_bron_1)
						bot.send_message(c.message.chat.id, (("%s.%s,%s \n %s \n Номер: %s \n Оценка: %s из 5 баллов \n адрес:%s \n Instagram:%s \n от вас %s км")%(count,name['name'],name['vid'],name['worktime'],name['phone'],name['оценка'],name['adress'],name['instagram'],round(vozrostanieNum[ranga],2))),reply_markup=bron1)
			count += 1

		for ranga in range(1,len(vozrostanieNum)+2-len(vozrostanieNum)):
			for name in info['restoran']:
				if vozrostanieNum[ranga] == name['range']:
					if vozrostanieNum[ranga] < 1:
						a = round(vozrostanieNum[ranga],3)
						a = 1000 * a
						bron2.add(but_bron_2)
						bot.send_message(c.message.chat.id, (("%s.%s,%s \n %s \n Номер: %s \n Оценка: %s из 5 баллов \n адрес:%s \n Instagram:%s \n от вас %s метрах,")%(count,name['name'],name['vid'],name['worktime'],name['phone'],name['оценка'],name['adress'],name['instagram'],a)), reply_markup=bron2)
					else:
						bron2.add(but_bron_2)
						bot.send_message(c.message.chat.id, (("%s.%s,%s \n %s \n Номер: %s \n Оценка: %s из 5 баллов \n адрес:%s \n Instagram:%s \n от вас %s км")%(count,name['name'],name['vid'],name['worktime'],name['phone'],name['оценка'],name['adress'],name['instagram'],round(vozrostanieNum[ranga],2))),reply_markup=bron2)
			count += 1

		for ranga in range(2,len(vozrostanieNum)+3-len(vozrostanieNum)):
			for name in info['restoran']:
				if vozrostanieNum[ranga] == name['range']:
					if ranga < 1:
						a = round(vozrostanieNum[ranga],3)
						a = 1000 * a
						bron3.add(but_bron_3)
						bot.send_message(c.message.chat.id, (("%s.%s,%s \n %s \n Номер: %s \n Оценка: %s из 5 баллов \n адрес:%s \n Instagram:%s \n от вас %s метрах,")%(count,name['name'],name['vid'],name['worktime'],name['phone'],name['оценка'],name['adress'],name['instagram'],a)), reply_markup=bron3)
					else:
						bron3.add(but_bron_3)
						bot.send_message(c.message.chat.id, (("%s.%s,%s \n %s \n Номер: %s \n Оценка: %s из 5 баллов \n адрес:%s \n Instagram:%s \n от вас %s км")%(count,name['name'],name['vid'],name['worktime'],name['phone'],name['оценка'],name['adress'],name['instagram'],round(vozrostanieNum[ranga],2))),reply_markup=bron3)
			count += 1

		for ranga in range(3,len(vozrostanieNum)+4-len(vozrostanieNum)):
			for name in info['restoran']:
				if vozrostanieNum[ranga] == name['range']:
					if ranga < 1:
						a = round(vozrostanieNum[ranga],3)
						a = 1000 * a
						bron4.add(but_bron_4)
						bot.send_message(c.message.chat.id, (("%s.%s,%s \n %s \n Номер: %s \n Оценка: %s из 5 баллов \n адрес:%s \n Instagram:%s \n от вас %s метрах,")%(count,name['name'],name['vid'],name['worktime'],name['phone'],name['оценка'],name['adress'],name['instagram'],a)), reply_markup=bron4)
					else:
						bron4.add(but_bron_4)
						bot.send_message(c.message.chat.id, (("%s.%s,%s \n %s \n Номер: %s \n Оценка: %s из 5 баллов \n адрес:%s \n Instagram:%s \n от вас %s км")%(count,name['name'],name['vid'],name['worktime'],name['phone'],name['оценка'],name['adress'],name['instagram'],round(vozrostanieNum[ranga],2))),reply_markup=bron4)
			count += 1

		for ranga in range(4,len(vozrostanieNum)+5-len(vozrostanieNum)):
			for name in info['restoran']:
				if vozrostanieNum[ranga] == name['range']:
					if ranga < 1:
						a = round(vozrostanieNum[ranga],3)
						a = 1000 * a
						bron5.add(but_bron_5)
						bot.send_message(c.message.chat.id, (("%s.%s,%s \n %s \n Номер: %s \n Оценка: %s из 5 баллов \n адрес:%s \n Instagram:%s \n от вас %s метрах,")%(count,name['name'],name['vid'],name['worktime'],name['phone'],name['оценка'],name['adress'],name['instagram'],a)), reply_markup=bron5)
					else:
						bron5.add(but_bron_5)
						bot.send_message(c.message.chat.id, (("%s.%s,%s \n %s \n Номер: %s \n Оценка: %s из 5 баллов \n адрес:%s \n Instagram:%s \n от вас %s км")%(count,name['name'],name['vid'],name['worktime'],name['phone'],name['оценка'],name['adress'],name['instagram'],round(vozrostanieNum[ranga],2))),reply_markup=bron5)
			count += 1

		for ranga in range(5,len(vozrostanieNum)+6-len(vozrostanieNum)):
			for name in info['restoran']:
				if vozrostanieNum[ranga] == name['range']:
					if ranga < 1:
						a = round(vozrostanieNum[ranga],3)
						a = 1000 * a
						bron6.add(but_bron_6)
						bot.send_message(c.message.chat.id, (("%s.%s,%s \n %s \n Номер: %s \n Оценка: %s из 5 баллов \n адрес:%s \n Instagram:%s \n от вас %s метрах,")%(count,name['name'],name['vid'],name['worktime'],name['phone'],name['оценка'],name['adress'],name['instagram'],a)), reply_markup=bron6)
					else:
						bron6.add(but_bron_6)
						bot.send_message(c.message.chat.id, (("%s.%s,%s \n %s \n Номер: %s \n Оценка: %s из 5 баллов \n адрес:%s \n Instagram:%s \n от вас %s км")%(count,name['name'],name['vid'],name['worktime'],name['phone'],name['оценка'],name['adress'],name['instagram'],round(vozrostanieNum[ranga],2))),reply_markup=bron6)
			count += 1

		for ranga in range(6,len(vozrostanieNum)+7-len(vozrostanieNum)):
			for name in info['restoran']:
				if vozrostanieNum[ranga] == name['range']:
					if ranga < 1:
						a = round(vozrostanieNum[ranga],3)
						a = 1000 * a
						bron7.add(but_bron_7)
						bot.send_message(c.message.chat.id, (("%s.%s,%s \n %s \n Номер: %s \n Оценка: %s из 5 баллов \n адрес:%s \n Instagram:%s \n от вас %s метрах,")%(count,name['name'],name['vid'],name['worktime'],name['phone'],name['оценка'],name['adress'],name['instagram'],a)), reply_markup=bron7)
					else:
						bron7.add(but_bron_7)
						bot.send_message(c.message.chat.id, (("%s.%s,%s \n %s \n Номер: %s \n Оценка: %s из 5 баллов \n адрес:%s \n Instagram:%s \n от вас %s км")%(count,name['name'],name['vid'],name['worktime'],name['phone'],name['оценка'],name['adress'],name['instagram'],round(vozrostanieNum[ranga],2))),reply_markup=bron7)
			count += 1

		for ranga in range(7,len(vozrostanieNum)+8-len(vozrostanieNum)):
			for name in info['restoran']:
				if vozrostanieNum[ranga] == name['range']:
					if ranga < 1:
						a = round(vozrostanieNum[ranga],3)
						a = 1000 * a
						bron8.add(but_bron_8)
						bot.send_message(c.message.chat.id, (("%s.%s,%s \n %s \n Номер: %s \n Оценка: %s из 5 баллов \n адрес:%s \n Instagram:%s \n от вас %s метрах,")%(count,name['name'],name['vid'],name['worktime'],name['phone'],name['оценка'],name['adress'],name['instagram'],a)), reply_markup=bron8)
					else:
						bron8.add(but_bron_8)
						bot.send_message(c.message.chat.id, (("%s.%s,%s \n %s \n Номер: %s \n Оценка: %s из 5 баллов \n адрес:%s \n Instagram:%s \n от вас %s км")%(count,name['name'],name['vid'],name['worktime'],name['phone'],name['оценка'],name['adress'],name['instagram'],round(vozrostanieNum[ranga],2))),reply_markup=bron8)
			count += 1

		for ranga in range(8,len(vozrostanieNum)+9-len(vozrostanieNum)):
			for name in info['restoran']:
				if vozrostanieNum[ranga] == name['range']:
					if ranga < 1:
						a = round(vozrostanieNum[ranga],3)
						a = 1000 * a
						bron9.add(but_bron_9)
						bot.send_message(c.message.chat.id, (("%s.%s,%s \n %s \n Номер: %s \n Оценка: %s из 5 баллов \n адрес:%s \n Instagram:%s \n от вас %s метрах,")%(count,name['name'],name['vid'],name['worktime'],name['phone'],name['оценка'],name['adress'],name['instagram'],a)), reply_markup=bron9)
					else:
						bron9.add(but_bron_9)
						bot.send_message(c.message.chat.id, (("%s.%s,%s \n %s \n Номер: %s \n Оценка: %s из 5 баллов \n адрес:%s \n Instagram:%s \n от вас %s км")%(count,name['name'],name['vid'],name['worktime'],name['phone'],name['оценка'],name['adress'],name['instagram'],round(vozrostanieNum[ranga],2))),reply_markup=bron9)
			count += 1

		for ranga in range(9,len(vozrostanieNum)+10-len(vozrostanieNum)):
			for name in info['restoran']:
				if vozrostanieNum[ranga] == name['range']:
					if ranga < 1:
						a = round(vozrostanieNum[ranga],3)
						a = 1000 * a
						bron10.add(but_bron_10)
						bot.send_message(c.message.chat.id, (("%s.%s,%s \n %s \n Номер: %s \n Оценка: %s из 5 баллов \n адрес:%s \n Instagram:%s \n от вас %s метрах,")%(count,name['name'],name['vid'],name['worktime'],name['phone'],name['оценка'],name['adress'],name['instagram'],a)), reply_markup=bron10)
					else:
						bron10.add(but_bron_10)
						bot.send_message(c.message.chat.id, (("%s.%s,%s \n %s \n Номер: %s \n Оценка: %s из 5 баллов \n адрес:%s \n Instagram:%s \n от вас %s км")%(count,name['name'],name['vid'],name['worktime'],name['phone'],name['оценка'],name['adress'],name['instagram'],round(vozrostanieNum[ranga],2))),reply_markup=bron10)
			count += 1
		"""
		@bot.callback_query_handler(func=lambda c:True)
		def inlin(d):
			if d.data == 'брон1':
				freestol = random.randint(1,2)
			if freestol == 1:
				bot.send_message(c.message.chat.id, "Вы успешно забронировали место, брон действительно в течении 15 мин")
			else:
				bot.send_message(c.message.chat.id, "мест нет :(")
		"""
	if c.data == 'poisk':
		sovpadenie = 0
		bot.send_message(c.message.chat.id,"Введите название")
		@bot.message_handler(content_types=["text"])
		def repeat_all_messages(message): # Название функции не играет никакой роли, в принципе
			#bot.send_message(c.message.chat.id, c.message.text)
			bron11 = types.InlineKeyboardMarkup()
			but_bron_11 = types.InlineKeyboardButton(text="забронировать столик", callback_data="брон11")
			a = 0
			for name,count in zip(info['restoran'],range(0,len(info['restoran'])-1)):
				for x in name:
					if 'name' == x:
						if str(message.text) == str(name[x]):
							bron11.add(but_bron_11)
							bot.send_message(message.chat.id, (("%s,%s \n %s \n Номер: %s \n Оценка: %s из 5 баллов \n адрес:%s \n Instagram:%s \n от вас %s км")%(name['name'],name['vid'],name['worktime'],name['phone'],name['оценка'],name['adress'],name['instagram'],round(name['range'],2))),reply_markup=bron11)
							a += 1
							break
				if (len(info['restoran'])-2) == count and a == 0:
					bot.send_message(c.message.chat.id,"Совпадении нет")
					
	if c.data == 'random':
		bron12 = types.InlineKeyboardMarkup()
		but_bron_12 = types.InlineKeyboardButton(text="забронировать столик", callback_data="брон12")
		but_main = types.InlineKeyboardButton(text="Главное меню", callback_data="глав")
		rannum = random.randint(1,len(vozrostanieNum))
		for name in info['restoran']:
			for x in name:
				if 'id' == x:
					if rannum == name[x]:
						bron12.add(but_bron_12,but_main)
						bot.send_message(c.message.chat.id, (("%s,%s \n %s \n Номер: %s \n Оценка: %s из 5 баллов \n адрес:%s \n Instagram:%s \n от вас %s км")%(name['name'],name['vid'],name['worktime'],name['phone'],name['оценка'],name['adress'],name['instagram'],round(name['range'],2))),reply_markup=bron12)
	
		
bot.polling(none_stop=True) 

	#--------------------